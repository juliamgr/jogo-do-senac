<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quadrado Móvel</title>
    <div id="square">
        <img id="square-gif" src="./didmitrinho (1).gif" width="150px" alt="">
        
    </div>
    
    <canvas id="Canva" width="800" height="600"></canvas>

    <style>
        body {
            margin: 1px;
            overflow: hidden;
            background-size: cover;
            background-color: #937d7d;
        }

        #square {
            position: absolute;
            width: 70px;
            height: 70px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        #square img {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>

<script>
    const square = document.getElementById('square');
    const squareGif = document.getElementById('square-gif');
    let posX = window.innerWidth / 2 - 35; // Posição inicial X (centralizado)
    let posY = window.innerHeight / 2 - 35; // Posição inicial Y (centralizado)
    const step = 13; // Quantidade de movimento

    // Atualiza a posição inicial do quadrado
    square.style.transform = `translate(${posX}px, ${posY}px)`;

    // Variável de controle para saber se o GIF está ativo
    let gifAtivo = false;

    // Função que será chamada quando uma tecla for pressionada
    window.addEventListener('keydown', (e) => {
        switch (e.key) {
            case 'w': // Quando pressionar a tecla 'W', o GIF começa a animar
            posY = Math.max(posY - step, ); // limite superior
               
                squareGif.src = './didmitrinho (1).gif'; // Coloca o GIF animado
                gifAtivo = true; // Define que o GIF está ativo
                break;
            case 's': // Quando pressionar a tecla 'S', move para baixo
                posY = Math.min(posY + step, window.innerHeight - square.clientHeight);
                
                squareGif.src = './didmitrinho (1).gif'; // Coloca o GIF animado
                gifAtivo = true; // Define que o GIF está ativo
                break;
            case 'a': // Quando pressionar a tecla 'A', move para a esquerda e gira o GIF
                posX = Math.max(posX - step, 0);
                square.style.transform = `translate(${posX}px, ${posY}px) rotateY(180deg)`; // Rotaciona para a esquerda
                squareGif.src = './dimi chutando.gif'; // Muda para o GIF de "dimichutando"
                break;
            case 'd': // Quando pressionar a tecla 'D', move para a direita e gira o GIF
                posX = Math.min(posX + step, window.innerWidth - square.clientWidth);
                square.style.transform = `translate(${posX}px, ${posY}px) rotateY(0deg)`; // Rotaciona para a direita
                squareGif.src = './dimi chutando.gif'; // Muda para o GIF de "dimichutando"
                break;
        }

        // Atualiza a posição do quadrado
        square.style.transform = `translate(${posX}px, ${posY}px)`; // Atualiza a posição com rotação
    });

    // Função que será chamada quando uma tecla for liberada
    window.addEventListener('keyup', (e) => {
        if (e.key === 'w' || e.key === 'W') {
            // Quando a tecla 'W' for liberada, o GIF para de animar (volta para o estado estático)
            squareGif.src = './didmitrinho (1).gif'; // Coloca o GIF animado
            gifAtivo = false; // Define que o GIF não está mais ativo




        }
    });window.addEventListener('keyup', (e) => {
    if (['w', 'a', 's', 'd'].includes(e.key)) {
        movingKeys[e.key] = false;
        
        // Verifica se nenhuma das teclas está pressionada
        if (!Object.values(movingKeys).includes(true)) {
            gifAtivo = false;
            squareGif.src = '';  // Deixa o GIF parado (imagem estática ou transparente)
        }
    }
});

// A cada quadro (opcional, para garantir que o GIF pare de se mover se não estiver pressionado)
function update() {
    // Se o GIF não estiver ativo, pare a animação
    if (!gifAtivo) {
        // Coloque uma imagem estática ou qualquer coisa para representar o GIF parado
        squareGif.src = './imagem_estatica.png'; // Substitua com a imagem que deseja mostrar quando o GIF não estiver em movimento
    }
    requestAnimationFrame(update);  // Continue o loop de atualização
}

// Inicia o loop de atualização
update();   

</script>

</body>
</html>



